TDDのサイクル
1. 小さいテストを追加する
2. すべてのテストを動かし、失敗があることを確認する
3. 変更を行う
4. 再びすべてのテストを動かし、すべて成功することを確認する
5. リファクタリングを行い重複を除去する

レッド・グリーン・リファクタリング

TDDにおける3つのこと
- テストをきれいに機能させる3つのアプローチ。仮実装、三角測量、明白な実装
- テストとコードの間の重複除去が設計を駆動する
- テストの間のギャップを制御する能力。路面が滑りやすいならグリップを増し、路面が良いならより速く

コードを書く際にストレスに悩まされないコツは、どこに行くべきかがわかるまでは、一歩も踏み出さないこと。席に座ってコードを書き始めるときには、そもそも何を成し遂げようとしているかを考える

新しく何かを考えついた時には、「すぐやる」「後で」のリストに加えるか、全くやる必要無しであるかを素早く意識的に判断すればいい。テスト駆動開発の言葉に翻訳するならば、リストに加えるのは実装したいものに対するテストということになる。まず、実装しなければならない振る舞いを考えられるだけ書き出してみる。次に、まだ実装がない操作に関して、空実装をリストに加える。最後に、今書いたばかりのコードをきれいにするためのリファクタリングをすべて書き出しておく

- システム構築はどこから始めるべきか。システム構築が終わったらこうなる、というストーリーを語るところからだ
- 機能はどこから書き始めるべきか。コードが書き終わったらこのように動く、というテストを書くところからだ
- ではテストはどこから書き始めるべきか。それはテストの終わりにパスすべきアサーションを書くところからだ

「きれいなコード」と「動くコード」を一度に満たすのは、得てして難しいものだ。少しでも難しいと思ったら後戻りして、まず「動く」を仕留め、その後ゆっくりと「きれいな」を手掛ける

「不安が退屈に変わるまでテストを書く」

TDDにおいてテストは目的を達成するための手段であり、その目的とは大いなる自信を伴うコード